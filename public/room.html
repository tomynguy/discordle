<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Discordle</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <h1>Lobby</h1>
    <div id="roomInfoDiv">
        <p id="roomIDDisplay">Room ID: </p>
        <p id="usernameDisplay">Username: </p>
    </div>
    <div class="form" id="channelFilter">
        <button id="startButton">Start Game</button>
    </div>
  </div>
  <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
  <script src="client.js"></script>
  <script>
    // Retrieve room ID and username from sessionStorage
    const roomID = sessionStorage.getItem('roomID');
    const username = sessionStorage.getItem('username');

    // Update display components
    document.getElementById('roomIDDisplay').textContent += roomID;
    document.getElementById('usernameDisplay').textContent += username;

    // Retrieve channel elements and data
    const channels = new Map(JSON.parse(sessionStorage.getItem('channels')));
    const channelFilterForm = document.getElementsById('channelFilter');

    // Iterate over channels and create checkbox for each
    channels.forEach((channelID, channelName) => {
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.name = 'channel';
        checkbox.value = channelID;

        const label = document.createElement('label');
        label.textContent = channelName;
        label.appendChild(checkbox);

        channelFilterForm.appendChild(label);
    });
    
  </script>
</body>

</html>